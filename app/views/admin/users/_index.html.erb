<% content_for :breadcrumb do %>
  <%= render(Admin::BreadcrumbComponent.new(title: "List Users"), content_type: "text/html") %>
<% end %>

<div class="row">
  <div class="col-12">
    <div class="card">
      <div class="card-body">
        <div class="row mb-2">
          <div class="col-sm-4">
            <div class="search-box me-2 mb-2 d-inline-block">
              <div class="position-relative">
                <%= form_with(url: send("search_#{current_admin_panel.class_name}_users_path"), method: :post, data: { controller: "form", form_target: "source" }) do |f| %>
                  <%= f.hidden_field "q[s]", value: params[:q].try(:[], "s") %>
                  <%= f.search_field "q[email_or_first_name_or_last_name_or_phone_number_cont]", value: params[:q].try(:[], "email_or_first_name_or_last_name_or_phone_number_cont"), class: "form-control", data: { action: "input->form#search" }, placeholder: "Search" %>
                  <i class="bx bx-search-alt search-icon"></i>
                <% end %>
              </div>
            </div>
          </div>
        </div>

        <%= render "list", objects: objects, pagy: pagy, search: search %>
      </div>
    </div>
  </div>
</div>
